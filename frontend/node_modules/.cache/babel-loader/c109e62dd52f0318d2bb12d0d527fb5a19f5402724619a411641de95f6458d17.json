{"ast":null,"code":"// src/News.js\nimport React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const News=_ref=>{let{newspaper,title,url}=_ref;const[headlines,setHeadlines]=useState([]);const proxyUrl=\"http://localhost:3000/proxy?url=\";// Quoted URL\nuseEffect(()=>{const fetchHeadlines=async()=>{const finalUrl=proxyUrl+encodeURIComponent(url);console.log(\"Fetching from URL: \",finalUrl);// Log the fetch URL\ntry{const response=await fetch(finalUrl);if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const data=await response.text();const parser=new DOMParser();const xml=parser.parseFromString(data,'application/xml');const items=xml.querySelectorAll('item title');let headlinesArray=[];items.forEach(item=>{headlinesArray.push(item.textContent);});setHeadlines(headlinesArray.slice(0,20));// Top 10 headlines\n}catch(error){console.error('Error fetching headlines:',error);setHeadlines(['Unable to load headlines']);}};fetchHeadlines();},[url]);return/*#__PURE__*/_jsxs(\"div\",{className:`news ${newspaper}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"upper\",children:/*#__PURE__*/_jsx(\"h2\",{children:title})}),/*#__PURE__*/_jsx(\"div\",{className:\"lower\",children:/*#__PURE__*/_jsx(\"ul\",{children:headlines.map((headline,index)=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"headline\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"star\",children:\"\\u2605\"}),\" \",headline]})},index))})})]});};export default News;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","News","_ref","newspaper","title","url","headlines","setHeadlines","proxyUrl","fetchHeadlines","finalUrl","encodeURIComponent","console","log","response","fetch","ok","Error","status","data","text","parser","DOMParser","xml","parseFromString","items","querySelectorAll","headlinesArray","forEach","item","push","textContent","slice","error","className","children","map","headline","index"],"sources":["C:/Users/mishr/OneDrive/Desktop/Press-Pulse/presspulse/src/News.js"],"sourcesContent":["// src/News.js\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nconst News = ({ newspaper, title, url }) => {\r\n  const [headlines, setHeadlines] = useState([]);\r\n\r\n  const proxyUrl = \"http://localhost:3000/proxy?url=\";  // Quoted URL\r\n\r\n  useEffect(() => {\r\n    const fetchHeadlines = async () => {\r\n      const finalUrl = proxyUrl + encodeURIComponent(url);\r\n      console.log(\"Fetching from URL: \", finalUrl); // Log the fetch URL\r\n\r\n      try {\r\n        const response = await fetch(finalUrl);\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        const data = await response.text();\r\n\r\n        const parser = new DOMParser();\r\n        const xml = parser.parseFromString(data, 'application/xml');\r\n        const items = xml.querySelectorAll('item title');\r\n\r\n        let headlinesArray = [];\r\n        items.forEach(item => {\r\n          headlinesArray.push(item.textContent);\r\n        });\r\n        setHeadlines(headlinesArray.slice(0, 20)); // Top 10 headlines\r\n      } catch (error) {\r\n        console.error('Error fetching headlines:', error);\r\n        setHeadlines(['Unable to load headlines']);\r\n      }\r\n    };\r\n\r\n    fetchHeadlines();\r\n  }, [url]);\r\n\r\n  return (\r\n    <div className={`news ${newspaper}`}>\r\n      <div className=\"upper\">\r\n        <h2>{title}</h2>\r\n      </div>\r\n      <div className=\"lower\">\r\n        <ul>\r\n          {headlines.map((headline, index) => (\r\n            <li key={index}>\r\n              <div className=\"headline\"><span className=\"star\">&#9733;</span> {/* Unicode star character */}\r\n              {headline}</div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default News;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,IAAI,CAAGC,IAAA,EAA+B,IAA9B,CAAEC,SAAS,CAAEC,KAAK,CAAEC,GAAI,CAAC,CAAAH,IAAA,CACrC,KAAM,CAACI,SAAS,CAAEC,YAAY,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE9C,KAAM,CAAAa,QAAQ,CAAG,kCAAkC,CAAG;AAEtDZ,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,KAAM,CAAAC,QAAQ,CAAGF,QAAQ,CAAGG,kBAAkB,CAACN,GAAG,CAAC,CACnDO,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAEH,QAAQ,CAAC,CAAE;AAE9C,GAAI,CACF,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACL,QAAQ,CAAC,CACtC,GAAI,CAACI,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,uBAAuBH,QAAQ,CAACI,MAAM,EAAE,CAAC,CAC3D,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAElC,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,SAAS,CAAC,CAAC,CAC9B,KAAM,CAAAC,GAAG,CAAGF,MAAM,CAACG,eAAe,CAACL,IAAI,CAAE,iBAAiB,CAAC,CAC3D,KAAM,CAAAM,KAAK,CAAGF,GAAG,CAACG,gBAAgB,CAAC,YAAY,CAAC,CAEhD,GAAI,CAAAC,cAAc,CAAG,EAAE,CACvBF,KAAK,CAACG,OAAO,CAACC,IAAI,EAAI,CACpBF,cAAc,CAACG,IAAI,CAACD,IAAI,CAACE,WAAW,CAAC,CACvC,CAAC,CAAC,CACFxB,YAAY,CAACoB,cAAc,CAACK,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAAC,CAAE;AAC7C,CAAE,MAAOC,KAAK,CAAE,CACdrB,OAAO,CAACqB,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjD1B,YAAY,CAAC,CAAC,0BAA0B,CAAC,CAAC,CAC5C,CACF,CAAC,CAEDE,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,CAACJ,GAAG,CAAC,CAAC,CAET,mBACEL,KAAA,QAAKkC,SAAS,CAAE,QAAQ/B,SAAS,EAAG,CAAAgC,QAAA,eAClCrC,IAAA,QAAKoC,SAAS,CAAC,OAAO,CAAAC,QAAA,cACpBrC,IAAA,OAAAqC,QAAA,CAAK/B,KAAK,CAAK,CAAC,CACb,CAAC,cACNN,IAAA,QAAKoC,SAAS,CAAC,OAAO,CAAAC,QAAA,cACpBrC,IAAA,OAAAqC,QAAA,CACG7B,SAAS,CAAC8B,GAAG,CAAC,CAACC,QAAQ,CAAEC,KAAK,gBAC7BxC,IAAA,OAAAqC,QAAA,cACEnC,KAAA,QAAKkC,SAAS,CAAC,UAAU,CAAAC,QAAA,eAACrC,IAAA,SAAMoC,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,QAAO,CAAM,CAAC,IAAC,CAC/DE,QAAQ,EAAM,CAAC,EAFTC,KAGL,CACL,CAAC,CACA,CAAC,CACF,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAArC,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}